(function(b,g,_,h,e,t,R,C,r,p){"use strict";var n={Failed:r.getAssetIDByName("Small"),Delete:r.getAssetIDByName("ic_message_delete"),Copy:r.getAssetIDByName("toast_copy_link"),Open:r.getAssetIDByName("ic_leave_stage"),Clipboard:r.getAssetIDByName("pending-alert"),Clock:r.getAssetIDByName("clock"),Forum:r.getAssetIDByName("ic_forum_channel"),Settings:{Toasts:{Settings:r.getAssetIDByName("ic_selection_checked_24px"),Failed:r.getAssetIDByName("ic_close_circle_24px")},Initial:r.getAssetIDByName("coffee"),Update:r.getAssetIDByName("discover"),Locale:r.getAssetIDByName("ic_locale_24px"),External:r.getAssetIDByName("ic_raised_hand_list"),Edit:r.getAssetIDByName("ic_edit_24px"),Reply:r.getAssetIDByName("ic_reply_24px"),Keyboard:r.getAssetIDByName("ic_keyboard_24px")}},i={shadow:function(a=.1){return{shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:a,shadowRadius:4.65,elevation:8}},displayToast:function(a,l){e.toasts.open({content:l=="clipboard"?`Copied ${a} to clipboard.`:a,source:l=="clipboard"?n.Clipboard:n.Settings.Initial})}},A={plugin:{source:"https://github.com/S-cript-kiddie02/vendetta-plugins"},authors:{profile:{"Rosie<3":"https://github.com/acquitelol",MYSTRAVIL:"https://github.com/MYSTRAVIL/vendetta-plugins"}}};const{TouchableOpacity:m,View:D,Image:F,Text:T,Animated:E}=R.General,L=g.findByProps("transitionToGuild"),S=g.findByStoreName("UserStore"),N=g.findByProps("showUserProfile"),d=e.stylesheet.createThemedStyleSheet({container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},textContainer:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",...i.shadow()},image:{width:75,height:75,borderRadius:10,...i.shadow()},mainText:{opacity:.975,letterSpacing:.25},header:{color:p.semanticColors.HEADER_PRIMARY,fontFamily:e.constants.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},subHeader:{color:p.semanticColors.HEADER_SECONDARY,fontSize:12.75}});function B({name:a,authors:l}){const c=e.React.useRef(new E.Value(1)).current,s=function(){return E.spring(c,{toValue:1.1,duration:10,useNativeDriver:!0}).start()},G=function(){return E.spring(c,{toValue:1,duration:250,useNativeDriver:!0}).start()},K=function(){return N.showUserProfile({userId:S.getCurrentUser().id})},X={transform:[{scale:c}]};return e.React.createElement(e.React.Fragment,null,e.React.createElement(D,{style:d.container},e.React.createElement(m,{onPress:K,onPressIn:s,onPressOut:G},e.React.createElement(E.View,{style:X},e.React.createElement(F,{style:[d.image],source:{uri:S?.getCurrentUser()?.getAvatarURL()?.replace("webp","png")}}))),e.React.createElement(D,{style:d.textContainer},e.React.createElement(m,{onPress:function(){return L.openURL(A.plugin.source)}},e.React.createElement(T,{style:[d.mainText,d.header]},a)),e.React.createElement(D,{style:{flexDirection:"row"}},e.React.createElement(T,{style:[d.mainText,d.subHeader]},"A project by"),l.map(function(x,z,W){return e.React.createElement(m,{onPress:function(){return L.openURL(A.author.profile[x.name]??"https://github.com/")}},e.React.createElement(T,{style:[d.mainText,d.subHeader,{paddingLeft:4,fontFamily:e.constants.Fonts.DISPLAY_BOLD,flexDirection:"row"}]},x.name,z<W.length-1?",":null))})))))}const{View:U,Text:O}=R.General,v=e.stylesheet.createThemedStyleSheet({text:{color:p.semanticColors.HEADER_SECONDARY,paddingLeft:"5.5%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:e.constants.Fonts.PRIMARY_BOLD,fontSize:12}});function I({label:a,children:l}){return e.React.createElement(U,{style:{marginTop:10}},e.React.createElement(O,{style:[v.text,v.optionText]},a.toUpperCase()),l)}const{FormRow:o,FormSwitch:f,FormDivider:y,FormInput:$,FormText:M}=R.Forms,{ScrollView:k,View:w,Text:V}=R.General,u=e.stylesheet.createThemedStyleSheet({icon:{color:p.semanticColors.INTERACTIVE_NORMAL},item:{color:p.semanticColors.TEXT_MUTED,fontFamily:e.constants.Fonts.PRIMARY_MEDIUM},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:p.semanticColors.BACKGROUND_MOBILE_SECONDARY,...i.shadow()},subheaderText:{color:p.semanticColors.HEADER_SECONDARY,textAlign:"center",margin:10,marginBottom:50,letterSpacing:.25,fontFamily:e.constants.Fonts.PRIMARY_BOLD,fontSize:14},image:{width:"100%",maxWidth:350,borderRadius:10}});function Y(){t.storage.tapUsernameMention===void 0&&(t.storage.tapUsernameMention=!1),t.storage.reply===void 0&&(t.storage.reply=!0),t.storage.userEdit===void 0&&(t.storage.userEdit=!0),t.storage.keyboardPopup===void 0&&(t.storage.keyboardPopup=!0),t.storage.delay===void 0&&(t.storage.delay="1000"),C.useProxy(t.storage);const a=e.ReactNative.Platform.OS==="android",l=function(s){/^\d*$/.test(s)&&(t.storage.delay=s)},c=function(){try{e.ReactNative.Linking&&e.ReactNative.Linking.openURL?e.ReactNative.Linking.openURL(A.plugin.source):i.displayToast("Cannot open URL: Linking not available","error")}catch(s){i.displayToast("Error opening URL","error"),console.error("Error opening URL:",s)}};return e.React.createElement(k,null,e.React.createElement(B,{name:t.manifest.name,authors:t.manifest.authors}),e.React.createElement(w,{style:{marginTop:20}},e.React.createElement(I,{label:"Preferences"},e.React.createElement(w,{style:[u.container]},e.React.createElement(o,{label:"Tap Username to Mention",subLabel:`Allows you to tap on a username to mention them instead of opening their profile.${a?" This option is disabled on Android.":""}`,onLongPress:function(){return i.displayToast("By default, Discord opens a profile when tapping on a username in chat. With this, it now mentions them, like on Android.","tooltip")},leading:e.React.createElement(o.Icon,{style:u.icon,source:t.storage.tapUsernameMention?n.Forum:n.Failed}),trailing:e.React.createElement(f,{value:a?!1:t.storage.tapUsernameMention,onValueChange:function(){a||(t.storage.tapUsernameMention=!t.storage.tapUsernameMention)}}),disabled:a}),e.React.createElement(y,null),e.React.createElement(o,{label:"Double Tap To Reply",subLabel:"Allows you to double tap on any messages to reply to them.",onLongPress:function(){return i.displayToast("Double tapping anyones message allows you to reply to them!","tooltip")},leading:e.React.createElement(o.Icon,{style:u.icon,source:t.storage.reply?n.Settings.Reply:n.Failed}),trailing:e.React.createElement(f,{value:t.storage.reply,onValueChange:function(){t.storage.reply=!t.storage.reply}})}),e.React.createElement(y,null),e.React.createElement(o,{label:"Open Keyboard Automatically",subLabel:"Opens the Keyboard when you reply to or edit a message with a double tap.",onLongPress:function(){return i.displayToast("Opens the Keyboard when you reply to or edit a message with a double tap.","tooltip")},leading:e.React.createElement(o.Icon,{style:u.icon,source:t.storage.keyboardPopup?n.Settings.Keyboard:n.Failed}),trailing:e.React.createElement(f,{value:t.storage.keyboardPopup,onValueChange:function(){t.storage.keyboardPopup=!t.storage.keyboardPopup}})}),e.React.createElement(y,null),e.React.createElement(o,{label:`${t.storage.userEdit?"Double tap to edit":"Double tap to reply to"} your own messages`,subLabel:`Allows you to double tap on any of your own messages to ${t.storage.userEdit?"edit":"reply to"} them.`,onLongPress:function(){return i.displayToast(`When double tapping on any of your own messages, you can now ${t.storage.userEdit?"edit them":"reply to them"}!`,"tooltip")},leading:e.React.createElement(o.Icon,{style:u.icon,source:t.storage.userEdit?n.Settings.Edit:n.Settings.Reply}),trailing:e.React.createElement(f,{value:t.storage.userEdit,onValueChange:function(){t.storage.userEdit=!t.storage.userEdit}})}),e.React.createElement(y,null),e.React.createElement($,{value:t.storage.delay,onChange:l,placeholder:"1000",title:"Maximum Delay",keyboardType:"numeric"}),e.React.createElement(y,null),e.React.createElement(M,{style:{padding:10}},"The maximum delay between taps until the double tap event is cancelled. This is 300ms by default."))),e.React.createElement(I,{label:"Source"},e.React.createElement(w,{style:u.container},e.React.createElement(o,{label:"Source",subLabel:`Open the repository of ${t.manifest.name} externally.`,onLongPress:function(){return i.displayToast(`Opens the repository of ${t.manifest.name} on GitHub in an external page to view any source code of the plugin.`,"tooltip")},leading:e.React.createElement(o.Icon,{style:u.icon,source:n.Open}),trailing:function(){return e.React.createElement(o.Arrow,null)},onPress:c})))),e.React.createElement(V,{style:u.subheaderText},`Build: (${t.manifest.hash?.substring(0,8)||"dev"}`))}const P=g.findByProps("dispatch","subscribe"),H={patches:[],onLoad(){if(h.logger.log("\u{1F9E0} FLUX SPY: D\xE9marrage..."),!P){h.logger.error("\u{1F9E0} FLUX SPY: Impossible de trouver le Dispatcher (C'est tr\xE8s grave)");return}const a=_.before("dispatch",P,function(l){const c=l[0];if(c&&c.type){const s=c.type;(s.includes("REACTION")||s.includes("TAP")||s.includes("GESTURE"))&&(h.logger.log(`\u{1F6A8} FLUX EVENT D\xC9TECT\xC9: ${s}`),console.log(c))}});this.patches.push(a),h.logger.log("\u{1F9E0} FLUX SPY: En \xE9coute. Fais ton double tap maintenant !")},onUnload(){this.patches.forEach(function(a){return a()}),this.patches=[]},settings:Y};return b.default=H,Object.defineProperty(b,"__esModule",{value:!0}),b})({},vendetta.metro,vendetta.patcher,vendetta,vendetta.metro.common,vendetta.plugin,vendetta.ui.components,vendetta.storage,vendetta.ui.assets,vendetta.ui);
