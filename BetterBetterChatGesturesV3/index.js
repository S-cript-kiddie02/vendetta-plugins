(function(s,i,a,u,l,t){"use strict";var n=void 0;const d=a.findByProps("startEditMessage"),h=a.findByProps("getCurrentUser");let o=!1;var f={onLoad:function(){t.logger.log("BetterBetterChatGesturesV3: Plugin loading...");try{const e=i.patcher.after("render",a.findByName("ChatMessage",!1),function([{message:r,channel:c}],g){if(!r||!c)return g;const p=l.Gesture.Tap().numberOfTaps(2).maxDelay(250).onEnd(function(M,B){B&&(o=!0,setTimeout(function(){o=!1},100),r.author.id===h.getCurrentUser().id?d.startEditMessage(c.id,r.id,r.content):u.fluxDispatcher.dispatch({type:"MESSAGE_START_REPLY",channel:c,message:r,showMention:!0}))});return u.React.createElement(l.GestureDetector,{gesture:p},g)});n.chatMessageUnpatch=e,t.logger.log("BetterBetterChatGesturesV3: ChatMessage component patched successfully.")}catch(e){t.logger.error("BetterBetterChatGesturesV3: FAILED to patch ChatMessage component.",e);return}try{const e=a.findByProps("addReaction","removeReaction");if(e){const r=i.patcher.before("addReaction",e,function(){if(o)return o=!1,!1});n.reactionUnpatch=r,t.logger.log("BetterBetterChatGesturesV3: ReactionModule patched successfully. Anti-reaction fix is active.")}else t.logger.warn("BetterBetterChatGesturesV3: Could not find ReactionModule. The anti-reaction fix is disabled. First double-tap may still trigger a reaction.")}catch(e){t.logger.error("BetterBetterChatGesturesV3: An error occurred while trying to patch ReactionModule.",e)}},onUnload:function(){t.logger.log("BetterBetterChatGesturesV3: Plugin unloading..."),n.chatMessageUnpatch?.(),n.reactionUnpatch?.()}};return s.default=f,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta,metro,common,reactNativeGestureHandler,vendetta);
